<!doctype html>
<html>
<body>
<h1 style="text-align:center">Hello</h1>
</body>
<script>

// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/

// 1. Objects, variables, scope

console.log("1. Objects, variables, scope");

// Question 1.1
(function(){
var x = undefined || null;
console.log("1.1",typeof x);
// Answers
// 1. undefined
// 2. null
// 3. object *
})();

// Question 1.2
(function(){
var x = 1 + '2';
console.log("1.2",typeof x);
// Answers
// 1. number
// 2. string *
// 3. object
})();


// Question 1.3
(function(){
var x="Hello JS".split(" ")[0].split("").reverse().join("");
console.log("1.3",x);
// Answers
// 1. olleH SJ
// 2. olleH *
// 3. SJ
})();

// Question 1.4
(function(){
var x = "Hello ";
(function(x) {
  y = x;
})("JS");
console.log("1.4",x+y);
// Answers
// 1. Hello
// 2. Hello JS *
// 3. JS
})();

// Question 1.5
(function(){
var x = 10, y = '10';
console.log("1.5",x==y,x===y);
// Answers
// 1. false false
// 2. true false *
// 3. true true
// 4. not 1-3
})();

// Question 1.6
(function(){
var x = null, y = undefined, z = false;
console.log("1.6",x==y,z==x,z==y);
// Answers
// 1. false false false
// 2. true false false *
// 3. true true true
// 4. not 1-3
})();

// Question 1.7
(function(){
var x = 0, y = '', z = '0';
console.log("1.7",x==y,z==x,z==y);
// Answers
// 1. false false false
// 2. true false false
// 3. true true true
// 4. not 1-3 *
})();

// Question 1.8
(function(){
var x = 0.1, y = 0.2, z = 0.3;
console.log("1.8", ((x + y) == z),((x + y) === z) );
// Answers
// 1. false false *
// 2. false true
// 3. true true
// 4. not 1-3
})();

// Question 1.9
(function(){
var a=[0, '0', 1, null, false, undefined, '', NaN],b=[];
for(var i=0; i<a.length; i++)
 if(a[i]){b.push(a[i]);}
console.log("1.9",b);
// Answers
// 1. ["0"]
// 2. ["0",1] *
// 3. ["0",1,NaN]
// 4. not 1-3
})();

// Question 1.10
(function(){
x={}; x.name="x";
y=window.x || null;
console.log("1.10",y.name);
// Answers
// 1. null
// 2. undefined
// 3. x *
// 4. y
})();

// 2. Methods, functions, context

console.log("2. Methods, functions, context");

// Question 2.1
(function(){
var a = {
    name: "a",
    getName: function(){
        return name
    }
}
var b = Object.create(a);
console.log("2.1", b.name == "a", b.getName() == "a");
// Answers
// 1. false false
// 2. false true
// 3. true true
// 4. not 1-3 *
})();

// Question 2.2
(function(){
var f=function(object){return this.name}
console.log("2.2",f({name:"Hero"})==="Hero",f.call({name:"Hero"})==="Hero",f.apply({name:"Hero"})==="Hero");
// Answers
// 1. false false true
// 2. false true true *
// 3. true true true
// 4. not 1-3
})();

// Question 2.3
(function(){
function f1(o){o.name+="!";return o;}
function f2(o){o+="!";return o;}
var x={name:"Hero"}
f1(x);
var y="Hero";
f2(y);
console.log("2.3",x.name=="Hero",y=="Hero");
// Answers
// 1. false false
// 2. true false
// 3. true true
// 4. not 1-3 *
})();


// Question 2.4
(function(){
function f3(s) {
  var args = Array.prototype.slice.call(arguments, 1);
  return args.reverse();
}
console.log("2.4",f3("a", "b", "c"));
// Answers
// 1. ["a","b","c"]
// 2. ["b","c"]
// 3. ["c","b"] *
// 4. not 1-3
})();

// Question 2.5
(function(){

function mult(x, y) {
  y = typeof y != 'undefined' ?  y : 1;
  return x*y;
}
console.log("2.5",mult(2),mult("3"),mult("2",2));
// Answers
// 1. 2,3,22
// 2. 2,3,4 *
// 3. 1,3,4
// 4. not 1-3
})();

// Question 2.6
(function(){
var x = { name: "Hero" };
function returnName () {
  return this.name;
}
returnName();
var y = returnName.bind(x);
y();
x.returnName = returnName;
console.log("2.6",returnName()=="",y()=="Hero",x.returnName()=="Hero");
// Answers
// 1. false false false
// 2. true false false
// 3. false true true *
// 4. not 1-3
})();


// Question 2.7
(function(){
var sf = Array.prototype.slice;
var x = [1,2,3];

console.log("2.7",sf.call(x,0,3)==x, sf.call(x,0,3).toString()==x.toString());
// Answers
// 1. false false
// 2. true false
// 3. false true *
// 4. not 1-3
})();


// Question 2.8
(function(){
this.name = "Pilot";
var x = { name: "Hero" };
var returnName = function (s) {
  s = typeof s == 'undefined' ? "":s;
  return this.name + s;
}

var boundName = returnName.bind(x);

console.log("2.8",returnName(),boundName("!"));

// Answers
// 1. undefined Hero
// 2. Pilot udefined
// 3. Pilot Hero! *
// 4. not 1-3
})();


// Question 2.9
(function(){
function list() {
  return Array.prototype.slice.call(arguments);
}
var myList = list.bind(undefined, 0,1);
console.log("2.9",myList(),myList(2, 3));
// Answers
// 1. undefined [2,3]
// 2. [0,1] [2,3]
// 3. undefined undefined 
// 4. not 1-3 *
})();


// Question 2.10
(function(){
var x = new Object();
x.name = 'Hero';
x.age = function(){return 33;};
delete x.name;
console.log("2.10",x.hasOwnProperty('name'),x.hasOwnProperty('age'),x.hasOwnProperty('id'));
// Answers
// 1. false false false
// 2. false true false *
// 3. true true false
// 4. not 1-3
})();

// 3. Loops, control flow

console.log("3. Loops, control flow");

// Question 3.1 condition operator if
(function(){

var x;

if(typeof x=="undefined"){
 x=null;
}else if(typeof x=="object"){
 x=1;
}else{
 x="undefined"
}

console.log("3.1",typeof x, x);
// Answers
// 1. number 1
// 2. string undefined
// 3. object "undefined"
// 4. object null *
})();


// Question 3.2 condition operator ?
(function(){

var x;

x = x==undefined ? null : "";

console.log("3.2",typeof x, x);
// Answers
// 1. object null *
// 2. string null
// 3. object ""
// 4. string ""
})();


// Question 3.3 falsy values
(function(){

var x = [false, undefined, null, 0, NaN, ""];

x = x[Math.round(Math.random()*x.length)] ? null : "";

console.log("3.3",typeof x, x);
// Answers
// 1. object ""
// 2. object null
// 3. undefined null
// 4. string "" *
})();

// Question 3.4 for loop
(function(){

const N=3;
var x = x || 1;

for(var i=0;i<N;i++){
 if(i%2){continue;}
 if(i%3){break;}
 x++;
}

console.log("3.4",typeof x, x);
// Answers
// 1. number 1
// 2. undefined NaN
// 3. number 2 *
// 4. number NaN
})();

// Question 3.5 while loop
(function(){

const N=3;
var x=[];

var i=0;while(i<N){
 if (!!x){
   x.push(i)
 }
 ++i;
}

console.log("3.5",typeof x, x);
// Answers
// 1. number [1,2,3]
// 2. object [0,1,2]*
// 3. object  [0,1]
// 4. number NaN
})();

// Question 3.6 switch operator
(function(){
const LI="login";
const LO="logout";
const RR="register";
const PF="profile";
const DF="default"
const BS="/api/v1/"
var x=[BS+LI,BS+LO,BS+RR,BS+PF];
var st={};
for(i in x){
 if(Math.random()>0.75)
 switch (x[i].substring(BS.length)){
  case LI:st[LI]=st[LI]+1 || 1;break;
  case LO:st[LO]=st[LO]+1 || 1;break;
  case RR:st[RR]=st[RR]+1 || 1;break;
  case PF:st[PF]=st[PF]+1 || 1;break;
  default: st[DF]=st[DF]+1 || 1;
 } 
}
console.log("3.6",typeof st, st[LI]+st[LO]+st[RR]+st[PF]);
// Answers
// 1. number 1
// 2. object 2 *
// 3. object NaN *
// 4. number NaN
})();


// Question 3.7 condition with Boolean
(function(){

var x = new Boolean(false);
var n=0;
if (x){ n++;}else{ --n;}
if (x == true){ n++;}else{ --n;}
console.log("3.7",typeof x, n);
// Answers
// 1. boolean true
// 2. boolean false
// 3. object 1
// 4. object 0 *
})();

// Question 3.8 condition with assignment
(function(){

var x = true;
var n=0;
if (x=n ){ n++;}else{ --n;}
console.log("3.8",typeof x, n);
// Answers
// 1. boolean 1
// 2. boolean 0
// 3. number 1
// 4. number -1*
})();


// Question 3.9 condition with Boolean
(function(){

var st=[ 0, -0, null, false, NaN, -NaN, undefined,""];
var x = new Boolean(st[Math.round(Math.random()*st.length)]);
var n=0;
if (x){ n++;}else{ --n;}

console.log("3.9",typeof x,n);
// Answers
// 1. boolean 1
// 2. boolean 0
// 3. object 1*
// 4. object -1
})();


// Question 3.10 do while loop
(function(){
var st=[ 1, -1, true,"1","true"];
var x=0;
do {
  var i=st[Math.round(Math.random()*st.length)];
  if(i) x++;
} while (!i);
console.log("3.10",typeof x,x);
// Answers
// 1. number 1*
// 2. number 0
// 3. object 1
// 4. object 0
})();


// 4. Exceptions
console.log("4. Exceptions");

// Question 4.1 try catch
(function(){
var st=[ "alpha", "beta", "gamma" ];
var x;
try{
 if(st[x]==undefined || st[x]==null){x=x.toString();}
}
catch(e){
 x=e;
}
console.log("4.1",typeof x);
// Answers
// 1. undefined
// 2. null
// 3. string
// 4. object *
})();


// Question 4.2 throw 
(function(){
var st=[ "alpha", "beta", "gamma" ];
var x;
try{
 throw false;
}
catch(e){
 x=e;
}
console.log("4.2",typeof x);
// Answers
// 1. undefined
// 2. boolean*
// 3. string
// 4. object
})();


// Question 4.3 nested try catch 
(function(){
var x;
try{
 try{
  throw "Error";
 }
 catch(e){
  throw e+"!";
 }
}
catch(e){
 x=e;
}
console.log("4.3",typeof x);
// Answers
// 1. undefined
// 2. null
// 3. string *
// 4. object
})();


// Question 4.4 try catch finally
(function(){

function f() {
  try {
    throw "Hellow";
  } catch(e) {
    return true;
  } finally {
    return new Boolean(false);
  }
}
var x=f();
console.log("4.4",typeof x,x==false);
// Answers
// 1. undefined false
// 2. boolean true
// 3. string true
// 4. object true *
})();



// Question 4.5 throw
(function(){

function f(p) {
  if (p) {
    throw (new Error('Error'));
  } else {
    if(typeof p == number){
      p=p/0;
    }
  }
}
var x;
try {
  x=f(1);
}
catch (e) {
  x=e;
}

console.log("4.5",typeof x, x.name === x.message);
// Answers
// 1. boolean false
// 2. boolean true
// 3. object undefined
// 4. object true *
})();


// Question 4.6 try catch
(function(){
var x=false;
function f(p) {
 if(typeof p=='object'){ 
  throw 1;
 } 
}

try {
  setTimeout(f(x),1000);
}
catch (e) {
  x=e;
}

console.log("4.6",typeof x, x);
// Answers
// 1. boolean false *
// 2. boolean true
// 3. undefined undefined
// 4. object true
})();


// Question 4.7 try catch after timeout
(function(){

var x=true;
function f(p) {
  throw p+"1";
}

try {
  setTimeout(f,10,x);
}
catch (e) {
  x=e;
}

console.log("4.7",typeof x, x);
// Answers
// 1. boolean false
// 2. boolean true *
// 3. undefined undefined
// 4. object true
})();


// Question 4.8 try catch wrapper
(function(){
var x;
function tryFun(wr, cb) {
    wr(function(f) {
        return function() {
            try {
                f(); 
            } catch(e) {
                cb(e);
            }
        };
    });
}

function throwFun() {
    throw new Error("Error");
}

tryFun(function(cf) { setTimeout( cf(throwFun), 1); }, function(e) {  x=e });

setTimeout(function(){console.log("4.8",typeof x, x.name == x.message);}, 2);

// Answers
// 1. boolean false
// 2. boolean true
// 3. undefined undefined
// 4. object true *
})();


// Question 4.9 try catch type
(function(){
var x;

try{
throw { type: "check", message: "Hello" }
}
catch(e){
 switch(e.type){
  case "check": x=e.message; break;
  case "verify": x=e.name; break;
  default:x=e; break;
 }
}

setTimeout(function(){console.log("4.9",typeof x, x.name == x.message);}, 2);

// Answers
// 1. string false
// 2. string true*
// 3. undefined undefined
// 4. object true
})();

// Question 4.10 try catch
(function(){
var x=true;

function xor(a,b) {
  return ( a || b ) && !( a && b );
}
try{
 if(Math.random()>0.5)x=xor(x,true);
}
finally{
 if(Math.random()>0.5)x=xor(x,false);
}

setTimeout(function(){console.log("4.10",typeof x,x);}, 2);

// Answers
// 1. boolean false*
// 2. boolean true*
// 3. undefined undefined
// 4. number 0
})();


// 5. OOP
console.log("5. OOP");

// Question 5.1 constructor
(function(){

var x = function (name) {
  this.name=name;
};

var x1 = new x("1");
var x2 = new x(1);

console.log("5.1",typeof x1==typeof x2,x1.name+x2.name);
// Answers
// 1. true 2
// 2. true 11*
// 3. false 11
// 4. object 2
})();


// Question 5.2 prototype
(function(){

var x = function (name) {
  this.name=name;
};

x.prototype.name="Pilot";
x.prototype.getName=function(){return this.name}
x.getName=function(){return "Hero"}

var x1 = new x("alpha");
var x2 = new x(true);

console.log("5.2",typeof x1===typeof x2,x.getName()+" "+x2.getName());
// Answers
// 1. true alpha true
// 2. true Hero true*
// 3. false Pilot true
// 4. false Hero false
})();


// Question 5.3 prototype
(function(){

var x = function (name) {
  this.name = name;
};

x.prototype.getName = function() {  return this.name };

var x1 = new x("1");
var x2 = new x("2");
var xF = x2.getName;

console.log("5.3",xF === x1.getName,x.prototype == x2.prototype);

// Answers
// 1. true true
// 2. true false*
// 3. false true
// 4. not 1-3
})();

// Question 5.4 prototype
(function(){

var x = {};


console.log("5.4",x.constructor);

// Answers
// 1. true true
// 2. true false*
// 3. false true
// 4. not 1-3
})();


</script>
</html>

